<% if !flash[:notice].blank? %>
    <div class="notice-msg"><%= flash[:notice] %></div>
<% elsif !flash[:error].blank? %>
    <div class="error-msg"><%= flash[:error] %></div>
<% end %>

<div class='subject index' >
    <h1>Subjects</h1>
    <% link_to 'New Subject', {action: 'new'}, class: 'action new' %>
    <table class="listing" summary="Subject list">
        <tr class="header">
        <th>&nbsp;</th>
        <th>Name</th>
        <th>Visible</th>
        <th># Pages</th>
        <th colspan="3">Actions</th>
        </tr>
        <% @subjects.each do |subject| %>
        <tr>
            <td><%= subject.position %></td>
            <td><%= subject.name %></td>
            <td><%= subject.visible ? "Yes" : "No" %></td>
            <td><%= subject.pages.size %></td>

            <td><%= link_to 'Show', {action: 'show', id: subject.id}  %></td>
            <td><%= link_to 'Edit', {action: 'edit', id: subject.id}  %></td>
            <td><%= link_to 'Destroy', {action: 'delete', id: subject.id} %></td>
        </tr>
        <% end %>
    </table>
    <br>
    <%= link_to 'New Subject', {action: 'new'}, class: 'action new' %>
</div>